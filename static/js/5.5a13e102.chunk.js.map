{"version":3,"sources":["HOC/withAuthRedirect.jsx","assets/images/avatar.png","components/Users/User/User.module.scss","components/Users/UsersC.module.scss","components/Users/User/User.jsx","components/Users/UsersC.jsx","components/Users/UsersContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthComponent","Component","RedirectComponent","this","props","to","React","connect","module","exports","User","data","follow","unfollow","id","followed","photos","status","name","className","s","item","Paper","paper","ava__block","ava","src","small","avatar","alt","width","height","Button","btn","variant","onClick","info","UsersC","getUsersPage","usersPage","getData","onPageChange","page","setCurrPage","getUsersTC","result","map","user","followTC","unfollowTC","length","currentPage","pageSize","totalCount","pageCount","Math","ceil","Box","container","Stack","spacing","mb","Pagination","pagination","color","count","onChange","_","list","withRedirect","UsersContainer","isFetching","followAC","setUsers","setUsersAC","unfollowAC","setCurrPageAC"],"mappings":"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","file":"static/js/5.5a13e102.chunk.js","sourcesContent":["/* eslint-disable */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth\n})\n\nconst withAuthComponent = (Component) => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\n      return <Component {...this.props} />;\n    }\n  }\n  const ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent)\n  return ConnectedAuthRedirectComponent;\n};\n\nexport default withAuthComponent;\n","export default __webpack_public_path__ + \"static/media/avatar.f0ed1e1e.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"User_item__2xxWu\",\"ava__block\":\"User_ava__block__Vj_LO\",\"info\":\"User_info__CZGKl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"UsersC_selected__37Epe\",\"container\":\"UsersC_container__q8tzz\",\"list\":\"UsersC_list__tTdhe\",\"pagination\":\"UsersC_pagination__1hCl7\"};","/* eslint-disable */\nimport React from 'react'\nimport { NavLink } from 'react-router-dom';\nimport s from './User.module.scss'\nimport avatar from '../../../assets/images/avatar.png'\nimport ListItem from '@mui/material/ListItem';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport ListItemText from '@mui/material/ListItemText';\nimport { Button } from '@mui/material';\nimport Paper from \"@mui/material/Paper\";\n\n\n// const User = ({ data, follow, unfollow }) => {\n//   const { id, followed, photos, status, name } = data;\n\n//   return <li\n//     className={styles.person__Info}>\n\n//     <div className={styles.person__avaBlock}>\n//       <NavLink to={'/profile/' + id}>\n//         <img src={photos.small ? photos.small : avatar} alt=\"img\" width=\"150\" height=\"150\" />\n//       </NavLink>\n//       {followed ? <button onClick={() => {\n//         unfollow(id);\n//       }} className>unfollow</button> :\n//         <button onClick={() => {\n//           follow(id);\n//         }}>follow</button>}\n//     </div>\n\n//     <div className={styles.person__nameLocationBlock}>\n//       <div className={styles.person__row}>\n//         <p>{name}</p>\n//         <div className={styles.person__locationWrapper}>\n//         </div>\n//       </div>\n//       <p>{status}</p>\n//     </div>\n//   </li>\n// };\n\n\nconst User = ({ data, follow, unfollow }) => {\n  const { id, followed, photos, status, name } = data;\n  return <li className={s.item}>\n    <Paper className={s.paper}>\n      <div className={s.ava__block}>\n        <NavLink className={s.ava} to={'/profile/' + id}>\n          <img src={photos.small ? photos.small : avatar} alt=\"img\" width=\"150\" height=\"150\" />\n        </NavLink>\n        {followed ? <Button className={s.btn} variant=\"text\" onClick={() => {\n          unfollow(id);\n        }} className>unfollow</Button> :\n          <Button className={s.btn} variant=\"text\" onClick={() => {\n            follow(id);\n          }}>follow</Button>}\n      </div>\n      <div className={s.info}>\n        <div>\n          <p>Name: {name}</p>\n        </div>\n        <p>Status: {status}</p>\n      </div>\n    </Paper>\n  </li>\n};\n\n\n\n\n\nexport default User;\n","/* eslint-disable */\nimport React from 'react';\nimport User from './User/User';\nimport s from './UsersC.module.scss';\nimport { Pagination, Stack } from '@mui/material';\nimport { Box } from '@mui/system';\n\n// class UsersC extends React.Component {\n//   getUsersPage = () => this.props.data.usersPage;\n//   getData = () => this.props.data;\n//   componentDidMount() {\n//     if (this.getUsersPage().length === 0) {\n//       const { currentPage, pageSize } = this.getData();\n//       this.props.getUsersThunkCreator(currentPage, pageSize)\n//     }\n//   }\n//   onPageChange = (page) => {\n//     this.props.setCurrPage(page)\n//     this.props.getUsersThunkCreator(page)\n//   }\n\n//   follow = (id) => this.props.follow(id);\n//   unfollow = (id) => this.props.unfollow(id);\n//   result = () => this.getUsersPage().map(user => {\n//     return (\n//       <User\n//         data={user}\n//         follow={this.props.followThunckCreator}\n//         unfollow={this.props.unfollowThunckCreator}\n//       />)\n//   });\n\n//   render() {\n//     const { totalCount, pageSize, currentPage } = this.props.data\n//     const pages = [1, 2, 3, 4, 5];\n//     const pageCount = Math.ceil(totalCount / pageSize);\n//     return <div>\n//       <div>\n//         {pages.map(p => <span className={currentPage === p && styles.selected}\n//           onClick={() => this.onPageChange(p)}>{p}</span>)}\n//       </div>\n//       {this.result()}\n//       <button onClick={this.getUsers}>show more</button>\n//     </div >\n//   }\n// }\nclass UsersC extends React.Component {\n  getUsersPage = () => this.props.data.usersPage;\n  getData = () => this.props.data;\n  componentDidMount() {\n    if (this.getUsersPage().length === 0) {\n      const { currentPage, pageSize } = this.getData();\n      this.props.getUsersTC(currentPage, pageSize)\n    }\n  }\n  onPageChange = (page) => {\n    this.props.setCurrPage(page)\n    this.props.getUsersTC(page)\n  }\n  follow = (id) => this.props.follow(id);\n  unfollow = (id) => this.props.unfollow(id);\n  result = () => this.getUsersPage().map(user => {\n    //todo: стилизовать карточку\n    return (\n      <User\n        data={user}\n        follow={this.props.followTC}\n        unfollow={this.props.unfollowTC}\n      />)\n  });\n\n  // render() {\n  //   const { totalCount, pageSize, currentPage } = this.props.data\n  //   const pages = [1, 2, 3, 4, 5];\n  //   const pageCount = Math.ceil(totalCount / pageSize);\n  //   return (\n  //     <div className={s.container}>\n  //       <div>\n  //         {pages.map(p => <span onClick={() => this.onPageChange(p)}>{p}</span>)}\n  //       </div>\n  //       <ul className={s.list}>\n  //         {this.result()}\n  //       </ul>\n  //     </div>\n  //   )\n  // }\n\n  render() {\n    const { totalCount, pageSize, currentPage } = this.props.data\n    const pageCount = Math.ceil(totalCount / pageSize);\n    return (\n      <Box className={s.container}>\n        <Stack spacing={2} mb={2}>\n          <Pagination\n            className={s.pagination}\n            color=\"primary\"\n            count={pageCount}\n            page={currentPage}\n            onChange={(_, page) => this.onPageChange(page)}\n          />\n        </Stack>\n        <ul className={s.list}>\n          {this.result()}\n        </ul>\n      </Box>\n    )\n  }\n}\n\nexport default UsersC;\n","import { connect } from 'react-redux';\nimport withAuthComponent from '../../HOC/withAuthRedirect';\nimport {\n  followAC, setUsersAC, unfollowAC, setCurrPageAC,\n  getUsersTC,\n  followTC,\n  unfollowTC,\n} from '../../redux/usersReducer';\nimport UsersC from './UsersC';\n\nconst withRedirect = withAuthComponent(UsersC);\n\nconst mapStateToProps = ({\n  usersPage, totalCount, pageSize, currentPage, isFetching,\n}) => ({\n  data: usersPage,\n  totalCount,\n  pageSize,\n  currentPage,\n  isFetching,\n});\n\nconst UsersContainer = connect(mapStateToProps, {\n  follow: followAC,\n  setUsers: setUsersAC,\n  unfollow: unfollowAC,\n  setCurrPage: setCurrPageAC,\n  getUsersTC,\n  followTC,\n  unfollowTC,\n})(withRedirect);\n\nexport default UsersContainer;\n"],"sourceRoot":""}