(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[0],{112:function(e,t,n){e.exports={content:"App_content__1mgbs",sideBar:"App_sideBar__E0-Lu"}},119:function(e,t,n){e.exports={warning:"test_warning__2BaU3"}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return _}));var r=n(16),a=n(7),c=n(9),s=n.n(c),i=n(20),u=n(29),o="ADD-POST",l="UPDATE-NEW-POST-TEXT",j="SET_USER_PROFILE",d="GET_USER_STATUS",p="SAVE_PHOTO",b=function(e){return{type:o,text:e}},f=function(e){return{type:"UPDATE-NEW-POST-TEXT",text:e}},O=function(e){return{type:j,userProfile:e}},h=function(e){return{type:d,status:e}},x=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getProfile(e);case 2:r=t.sent,n(O(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getStatus(e);case 2:r=t.sent,a=r.data,n(h(a));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.updateStatus(e);case 2:r=t.sent,0===r.data.resultCode&&n(h(e));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.savePhoto(e);case 2:r=t.sent,0===(a=r.data).resultCode&&n((c=a.data.photos,{type:p,photos:c}));case 5:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n,r){var a,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.id,t.next=3,u.a.saveProfile(e);case 3:c=t.sent,0===c.data.resultCode&&n(x(a));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},w={posts:[{id:1,post:"post1"},{id:2,post:"post2"}],newPostText:"",profile:null,status:"\u043d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:var n={id:3,post:t.text};return Object(a.a)(Object(a.a)({},e),{},{posts:[].concat(Object(r.a)(e.posts),[n]),newPostText:""});case l:return Object(a.a)(Object(a.a)({},e),{},{newPostText:t.text});case j:return Object(a.a)(Object(a.a)({},e),{},{profile:t.userProfile});case d:return t.status?Object(a.a)(Object(a.a)({},e),{},{status:t.status}):e;case p:return Object(a.a)(Object(a.a)({},e),{},{profile:Object(a.a)(Object(a.a)({},e.profile),{},{photos:t.photos})});default:return e}}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(16),a=n(7),c="ADD-MESSAGE",s="UPDATE-NEW-MESSAGE-TEXT",i=function(e){return{type:c,text:e}},u=function(e){return{type:s,text:e}},o={dialogs:[{id:1,name:"name1"},{id:2,name:"name2"},{id:3,name:"name3"}],messages:[{id:1,message:"message1"},{id:2,message:"message2"},{id:3,message:"message3"}],newMessageText:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n={id:3,message:t.text};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});case s:return Object(a.a)(Object(a.a)({},e),{},{newMessageText:t.text});default:return e}}},160:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return v}));var r=n(16),a=n(7),c=n(9),s=n.n(c),i=n(20),u=n(29),o="FOLLOW",l="UNFOLLOW",j="SET_USERS",d="SET_CURRENT_PAGE",p="SET_TOTAL_COUNT",b=function(e){return{type:o,id:e}},f=function(e){return{type:l,id:e}},O=function(e){return{type:j,usersPage:e}},h=function(e){return{type:d,page:e}},x=function(e){return{type:p,totalCount:e}},m=function(e,t){return function(){var n=Object(i.a)(s.a.mark((function n(r){var a,c,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.getUsers(e,t);case 2:a=n.sent,c=a.items,i=a.totalCount,r(O(c)),r(x(i));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.subscribe(e);case 2:0===t.sent.resultCode&&n(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.unsubscribe(e);case 2:0===t.sent.resultCode&&n(f(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_={usersPage:[],currentPage:1,totalCount:10,pageSize:10,isFetching:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(a.a)(Object(a.a)({},e),{},{usersPage:Object(r.a)(t.usersPage)});case o:return Object(a.a)(Object(a.a)({},e),{},{usersPage:e.usersPage.map((function(e){return e.id===t.id?Object(a.a)(Object(a.a)({},e),{},{followed:!0}):e}))});case l:return Object(a.a)(Object(a.a)({},e),{},{usersPage:e.usersPage.map((function(e){return e.id===t.id?Object(a.a)(Object(a.a)({},e),{},{followed:!1}):e}))});case d:return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.page});case p:return Object(a.a)(Object(a.a)({},e),{},{totalCount:t.totalCount});default:return e}}},161:function(e,t,n){"use strict";n(0);var r=n.p+"static/media/preloader.eb14ab2e.svg",a=n(1);t.a=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:r,alt:"img",width:"100",height:"100"})})}},189:function(e,t,n){},28:function(e,t,n){e.exports={nav:"SideBar_nav__-lFO8",list:"SideBar_list__3wzRI",list__item:"SideBar_list__item__1xhdt",list__itemLink:"SideBar_list__itemLink__252vJ"}},29:function(e,t,n){"use strict";var r=n(9),a=n.n(r),c=n(20),s=n(163),i=n.n(s).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"9404ce95-49f8-4e4a-b22c-f8373bd290e6"}}),u={getUsers:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,r=e.length>1&&void 0!==e[1]?e[1]:10,t.next=4,i.get("users?page=".concat(n,"&count=").concat(r));case 4:return c=t.sent,t.abrupt("return",c.data);case 6:case"end":return t.stop()}}),t)})))()},getProfile:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("profile/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},subscribe:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.post("follow/".concat(e),{});case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},unsubscribe:function(e){return Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},getAuthMe:function(){return Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("auth/me");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},updateStatus:function(e){return i.put("profile/status",{status:e})},getStatus:function(e){return i.get("profile/status/".concat(e))},login:function(e){return Object(c.a)(a.a.mark((function t(){var n,r,c,s,u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,r=e.password,c=e.rememberMe,s=void 0!==c&&c,t.next=3,i.post("auth/login",{email:n,password:r,rememberMe:s});case 3:return u=t.sent,o=u.data,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))()},logout:function(){return Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.delete("auth/login");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))()},savePhoto:function(e){var t=new FormData;return t.append("image",e),i.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return i.put("profile",e)}};t.a=u},318:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(71),s=n.n(c),i=(n(189),n(67)),u=n(68),o=n(70),l=n(69),j=n(356),d=n(348),p=n(350),b=n(34),f=n(35),O=n(17),h=n(112),x=n.n(h),m=n(7),g=n(19),v=n(9),_=n.n(v),w=n(20),T=n(29),y="AUTH_USER",k="LOGOUT_USER",S=function(e){return{type:y,data:e}},P=function(){return function(){var e=Object(w.a)(_.a.mark((function e(t){var n,r,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.getAuthMe();case 2:n=e.sent,r=n.resultCode,a=n.data,0===r&&t(S(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=function(e){return function(){var e=Object(w.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.logout();case 2:n=e.sent,0===n.resultCode&&t({type:k,data:{id:null,login:null,email:null,isAuth:!1}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E={id:null,login:null,email:null,isAuth:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.data),{},{isAuth:!0});case k:return Object(m.a)(Object(m.a)({},e),t.data);default:return e}},A=n(349),B=n(351),L=n(352),U=n(353),M=n(167),z=n.n(M),D=n(336),F=n(55),I=n.n(F),R=n(1);function H(e){var t=e.isAuth,n=e.login,r=e.logoutTC;return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(D.a,{children:[Object(R.jsx)(A.a,{className:I.a.appBar,children:Object(R.jsxs)(B.a,{className:I.a.toolBar,children:[Object(R.jsx)(L.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(R.jsx)(z.a,{})}),Object(R.jsxs)(U.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:[Object(R.jsx)("p",{className:I.a.logoBig,children:"Big logo"}),Object(R.jsx)("p",{className:I.a.logoSmal,children:"logo"})]}),Object(R.jsx)("div",{children:t?Object(R.jsxs)("div",{children:[n," ","-"," ",Object(R.jsx)("button",{onClick:r,children:"Log out"})]}):Object(R.jsx)(f.b,{to:"/login",children:"Login"})})]})}),Object(R.jsx)(B.a,{className:I.a.fakeToolBar,children:" "})]})})}var W=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.authTC()}},{key:"render",value:function(){return Object(R.jsx)(H,Object(m.a)({},this.props))}}]),n}(a.a.Component),G=Object(g.compose)(Object(b.b)((function(e){var t=e.auth;return{isAuth:t.isAuth,login:t.login}}),{authTC:P,logoutTC:C}))(W),J=n(344),X=n(343),Y=Object(X.a)({form:"login"})((function(e){var t=e.handleSubmit;return Object(R.jsxs)("form",{onSubmit:t,children:[Object(R.jsx)("div",{children:Object(R.jsx)(J.a,{component:"input",name:"email",type:"text",placeholder:"email"})}),Object(R.jsx)("div",{children:Object(R.jsx)(J.a,{component:"input",name:"password",type:"password",placeholder:"password"})}),Object(R.jsxs)("div",{children:[Object(R.jsx)(J.a,{component:"input",name:"rememberMe",type:"checkbox"}),"remember me"]}),Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"submit",children:"Login"})})]})})),V=Object(b.b)((function(e){return{isAuth:e.auth.isAuth}}),{loginTC:function(e){return function(){var t=Object(w.a)(_.a.mark((function t(n){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.login(e);case 2:r=t.sent,0===r.resultCode&&n(P());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},logoutTC:C})((function(e){var t=e.loginTC;e.logoutTC;if(e.isAuth)return Object(R.jsx)(O.a,{to:"/profile"});return Object(R.jsxs)("div",{children:[Object(R.jsx)("h1",{children:"Login"}),Object(R.jsx)(Y,{onSubmit:function(e){t(e)}})]})})),K=n(161),Q=n(28),Z=n.n(Q),q=n(172),$=n.n(q),ee=n(171),te=n.n(ee),ne=n(174),re=n.n(ne),ae=n(175),ce=n.n(ae),se=n(173),ie=n.n(se),ue=n(176),oe=n.n(ue),le=n(354);var je=function(){return Object(R.jsx)(D.a,{children:Object(R.jsx)(le.a,{mt:4,className:Z.a.nav,children:Object(R.jsxs)("ul",{className:Z.a.list,children:[Object(R.jsx)("li",{className:Z.a.list__item,children:Object(R.jsxs)(f.b,{className:Z.a.list__itemLink,to:"/profile",children:[Object(R.jsx)(te.a,{}),Object(R.jsx)("span",{children:"Profile"})]})}),Object(R.jsx)("li",{className:Z.a.list__item,children:Object(R.jsxs)(f.b,{className:Z.a.list__itemLink,to:"/dialogs",children:[Object(R.jsx)($.a,{}),Object(R.jsx)("span",{children:"Messages"})]})}),Object(R.jsx)("li",{className:Z.a.list__item,children:Object(R.jsxs)(f.b,{className:Z.a.list__itemLink,to:"/users",children:[Object(R.jsx)(ie.a,{}),Object(R.jsx)("span",{children:"Users"})]})}),Object(R.jsx)("li",{className:Z.a.list__item,children:Object(R.jsxs)(f.b,{className:Z.a.list__itemLink,to:"/news",children:[Object(R.jsx)(re.a,{}),Object(R.jsx)("span",{children:"News"})]})}),Object(R.jsx)("li",{className:Z.a.list__item,children:Object(R.jsxs)(f.b,{className:Z.a.list__itemLink,to:"/music",children:[Object(R.jsx)(ce.a,{}),Object(R.jsx)("span",{children:"Music"})]})}),Object(R.jsx)("li",{className:Z.a.list__item,children:Object(R.jsxs)(f.b,{className:Z.a.list__itemLink,to:"/settings",children:[Object(R.jsx)(oe.a,{})," ",Object(R.jsx)("span",{children:"Settings"})]})})]})})})},de=n(25),pe=n(355),be=n(119),fe=n.n(be);var Oe=function(){var e=Object(r.useState)(0),t=Object(de.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){document.title="You clicked ".concat(n," times")})),Object(R.jsx)("div",{children:Object(R.jsxs)(D.a,{injectFirst:!0,children:[Object(R.jsxs)("p",{children:["You clicked ",n," times"]}),Object(R.jsx)(pe.a,{className:fe.a.warning,variant:"contained",onClick:function(){return a(n+1)},children:"Click me"}),Object(R.jsx)("button",{className:fe.a.warning,children:"btn2"})]})})},he="SET_INITIALIZED",xe={initialized:!1},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;return t.type===he?Object(m.a)(Object(m.a)({},e),{},{initialized:!0}):e},ge=a.a.lazy((function(){return Promise.all([n.e(7),n.e(5)]).then(n.bind(null,405))})),ve=a.a.lazy((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,404))})),_e=a.a.lazy((function(){return n.e(6).then(n.bind(null,402))})),we=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeTC()}},{key:"render",value:function(){return this.props.initialized?Object(R.jsx)(D.a,{children:Object(R.jsx)(f.a,{children:Object(R.jsxs)(j.a,{maxWidth:"lg",children:[Object(R.jsx)(G,{}),Object(R.jsxs)(d.a,{container:!0,spacing:2,direction:"row",justifyContent:"flex-start",alignItems:"stretch",children:[Object(R.jsx)(d.a,{className:x.a.sideBar,item:!0,md:2,sm:4,xs:2,children:Object(R.jsx)(je,{})}),Object(R.jsx)(d.a,{className:x.a.content,item:!0,md:10,sm:8,xs:10,sx:{height:"100vh"},children:Object(R.jsx)(p.a,{elevation:1,sx:{minHeight:"100vh"},children:Object(R.jsx)(le.a,{pt:4,children:Object(R.jsxs)(r.Suspense,{fallback:Object(R.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:[Object(R.jsx)(O.b,{path:"/profile/:userId?",render:function(){return Object(R.jsx)(_e,{})}}),Object(R.jsx)(O.b,{path:"/dialogs",render:function(){return Object(R.jsx)(ve,{})}}),Object(R.jsx)(O.b,{path:"/users",render:function(){return Object(R.jsx)(ge,{})}}),Object(R.jsx)(O.b,{path:"/login",render:function(){return Object(R.jsx)(V,{})}}),Object(R.jsx)(O.b,{path:"/test",render:function(){return Object(R.jsx)(Oe,{})}})]})})})})]})]})})}):Object(R.jsx)(K.a,{})}}]),n}(a.a.Component),Te=Object(b.b)((function(e){return{initialized:e.app.initialized}}),{initializeTC:function(){return function(e){e(P()).then((function(){return e({type:he})}))}}})(we),ye=function(e){e&&e instanceof Function&&n.e(8).then(n.bind(null,400)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ke=n(347),Se=n(125),Pe=n(159),Ce=n(160),Ee=n(178),Ne=n(177),Ae=Object(g.combineReducers)({profilePage:Se.b,dialogsPage:Pe.b,usersPage:Ce.a,auth:N,form:ke.a,app:me}),Be=Object(g.createStore)(Ae,Object(Ne.composeWithDevTools)(Object(g.applyMiddleware)(Ee.a)));s.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(b.a,{store:Be,children:Object(R.jsx)(Te,{})})}),document.getElementById("root")),ye()},55:function(e,t,n){e.exports={main:"Header_main__1QSU3",wrapper:"Header_wrapper__34IuT",logoBig:"Header_logoBig__3kvcB",logoSmal:"Header_logoSmal__e_yVT",appBar:"Header_appBar__3S_9g",toolBar:"Header_toolBar__1Mvyl",fakeToolBar:"Header_fakeToolBar__sCAC5"}}},[[318,1,2]]]);
//# sourceMappingURL=main.02ef04e1.chunk.js.map